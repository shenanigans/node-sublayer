<!DOCTYPE html>
<html>
<head>
    <title>submergence:Agent documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../index.css" />
    <link rel="stylesheet" type="text/css" href="../../../../highlight.css" />
    <script type="text/javascript" src="../../../../index.js"></script>
</head>
<body class="module" id="component_1266">
    <div id="outer">
        <div id="header">
            
            
            
            
            
            <a class="ctype" href="../../../../index.html">module</a>
            <span></span>
            <span class="breadcrumbs">
                <span class="delimiter">:</span><a href="../../index.html" class="breadcrumb module">submergence</a><span class="delimiter">:</span><a href="index.html" class="breadcrumb module">Agent</a>
            </span>
        </div>
<div id="TOC">
        <div class="section">
            <h4 class="header"><a href="#members">Member Properties</a></h4>
                <a href="#component_1213">client</a><br />
                <a href="#component_1219">isDomestic</a><br />
                <a href="#component_1216">isLoggedIn</a><br />
                <a href="#component_1222">sessionCreated</a><br />
                <a href="#component_1210">user</a><br />
        </div>
        <div class="section">
            <h4 class="header"><a href="#methods">Methods</a></h4>
                <a href="#component_1263">export</a><br />
                <a href="#component_1255">logout</a><br />
                <a href="#component_1235">setActive</a><br />
                <a href="#component_1248">setIdle</a><br />
        </div>
</div>
        <div id="content">
            <!-- basic document info -->
            <div id="details">
                        <div class="markdown"><p>Central controller for viewing or changing authentication status during an Action. An Agent that
is logged into the application will <em>always</em> have both a <code>user</code> and <code>client</code> id configured. The
minimum qualifications for an Agent may already be <a href="javascript:return false;"><code>configured</code></a> for the Action.</p>
</div>
                <div class="clear"></div>
                    <!-- constructor function -->
            </div>
<div class="children">
        <!-- member properties -->
        <h1 id="members" class="header">Member Properties</h1>
        <div class="section members">
<div id="component_1213" class="child member">
    <span class="signature">
        <span>
            <span class="valsep">|</span>
            <a class="valtype" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
            
        
            <span class="valsep">|</span>
            <a class="valtype" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a>
            
        </span>
        
        <a class="title" href="index.html#component_1213">client</a>
    </span>
    <div class="info">
<span class="markdown"><p>ID String of the current client, if any.</p>
</span>
    </div>
</div>
<div id="component_1219" class="child member">
    <span class="signature">
        <span>
            <span class="valsep">|</span>
            <a class="valtype" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a>
            
        </span>
        
        <a class="title" href="index.html#component_1219">isDomestic</a>
    </span>
    <div class="info">
<span class="markdown"><p>Whether the user copied their &quot;domestication cookie&quot; into the request to confirm the
request has same-origin priveleges for this domain. In a high-security app, this confirmation is
absolutely critical for any secure Action as it will prevent an XSS vulnerability in another
domain from affecting your users. The chief downside is that domestic requests cannot be
generated without using javascript.</p>
</span>
    </div>
</div>
<div id="component_1216" class="child member">
    <span class="signature">
        <span>
            <span class="valsep">|</span>
            <a class="valtype" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a>
            
        </span>
        
        <a class="title" href="index.html#component_1216">isLoggedIn</a>
    </span>
    <div class="info">
<span class="markdown"><p>Whether the user is currently logged in. An Action may occur with a <code>user</code> and <code>client</code>
without being an active session - this user presented a previously active session which
has not received any security flags.</p>
</span>
    </div>
</div>
<div id="component_1222" class="child member">
    <span class="signature">
        <span>
            <span class="valsep">|</span>
            <a class="valtype" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a>
            
        
            <span class="valsep">|</span>
            <a class="valtype" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a>
            
        </span>
        
        <a class="title" href="index.html#component_1222">sessionCreated</a>
    </span>
    <div class="info">
<span class="markdown"><p>Epoch time that the user&#39;s current session (if any) was initialized. This refers to a
<a href="javascript:return false;"><code>login</code></a> event, not an automatic session key change.</p>
</span>
    </div>
</div>
<div id="component_1210" class="child member">
    <span class="signature">
        <span>
            <span class="valsep">|</span>
            <a class="valtype" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
            
        
            <span class="valsep">|</span>
            <a class="valtype" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a>
            
        </span>
        
        <a class="title" href="index.html#component_1210">user</a>
    </span>
    <div class="info">
<span class="markdown"><p>ID String of the current user, if any.</p>
</span>
    </div>
</div>
        </div>
        <!-- methods -->
        <h1 id="methods" class="header">Methods</h1>
        <div class="section members">
<div id="component_1263" class="child function">
    <span class="signature">
        <span>
            <span class="valsep">,</span>
            <span class="types"></span>
        </span>
        <a href="member/export/index.html" class="title">
            export
        </a>
        (
            <span></span>
        ) {
    </span>
    <div class="info">
        <span class="markdown"><p>Create a json-serializable expression of the Agent&#39;s login state.</p>
</span>
            <h4>Returns</h4>
            <div class="section returns">
                <div class="return">
<div id="component_1260" class="child returns">
    <span class="signature">
        <span></span>
        
        <a class="title" href="javascript:return false;">state</a>
    </span>
    <div class="info">
<span class="markdown"></span>
<div class="children">
        <!-- member properties -->
        <h1 id="members" class="header">Member Properties</h1>
        <div class="section members">
<div id="component_1257" class="child member">
    <span class="signature">
        <span>
            <span class="valsep">|</span>
            <a class="valtype" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
            
        </span>
        
        <a class="title" href="javascript:return false;">client</a>
    </span>
    <div class="info">
<span class="markdown"></span>
    </div>
</div>
<div id="component_1259" class="child member">
    <span class="signature">
        <span>
            <span class="valsep">|</span>
            <a class="valtype" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a>
            
        </span>
        
        <a class="title" href="javascript:return false;">isDomestic</a>
    </span>
    <div class="info">
<span class="markdown"></span>
    </div>
</div>
<div id="component_1258" class="child member">
    <span class="signature">
        <span>
            <span class="valsep">|</span>
            <a class="valtype" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a>
            
        </span>
        
        <a class="title" href="javascript:return false;">isLoggedIn</a>
    </span>
    <div class="info">
<span class="markdown"></span>
    </div>
</div>
<div id="component_1256" class="child member">
    <span class="signature">
        <span>
            <span class="valsep">|</span>
            <a class="valtype" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
            
        </span>
        
        <a class="title" href="javascript:return false;">user</a>
    </span>
    <div class="info">
<span class="markdown"></span>
    </div>
</div>
        </div>
</div>
    </div>
</div>
                </div>
            </div>
        <div class="tail" /></div>
    </div>
</div>
<div id="component_1255" class="child function">
    <span class="signature">
        <span></span>
        <a href="member/logout/index.html" class="title">
            logout
        </a>
        (
            <span>
<div class="argument">
    
    <span class="optionBracket">[</span>
        <a class="title" href="#component_1252">
            client
        </a>
    <span class="optionBracket">]</span>
    <span class="comma">,</span>
</div>
            </span>
        ) {
    </span>
    <div class="info">
        <span class="markdown"><p>Deactivate sessions belonging to a User or User/Client pair. Active <code>Socket.io</code> connections are
selected and terminated.</p>
</span>
            <h4>Arguments</h4>
            <div class="section arguments">
                    <div class="child argument " id="component_1252">
<span class="signature">
    
        <div class="flag optional">optional</div>
    
        <span>
            <span class="valsep punctuation punctuation">|</span>
            <a class="valtype" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
            
        </span>
        <a class="name" href="javascript:return false;">
            client
        </a>
    
</span>
                        <div class="info">
                            <span class="markdown"><p>Select only sessions and connections belonging to a specific User/Client pair.</p>
</span>
                        </div>
                    </div>
            </div>
        <div class="tail" /></div>
    </div>
</div>
<div id="component_1235" class="child function">
    <span class="signature">
        <span></span>
        <a href="member/setactive/index.html" class="title">
            setActive
        </a>
        (
            <span>
<div class="argument">
    
    <span class="optionBracket">[</span>
        <a class="title" href="#component_1225">
            user
        </a>
    <span class="optionBracket">]</span>
    <span class="comma">,</span>
</div>
            
<div class="argument">
    
    <span class="optionBracket">[</span>
        <a class="title" href="#component_1228">
            client
        </a>
    <span class="optionBracket">]</span>
    <span class="comma">,</span>
</div>
            
<div class="argument">
    
    
        <a class="title" href="#component_1232">
            rememberMe
        </a>
    
    <span class="comma">,</span>
</div>
            </span>
        ) {
    </span>
    <div class="info">
        <span class="markdown"><p>Set the user&#39;s login status to <code>active</code>.</p>
</span>
            <h4>Arguments</h4>
            <div class="section arguments">
                    <div class="child argument " id="component_1225">
<span class="signature">
    
        <div class="flag optional">optional</div>
    
        <span>
            <span class="valsep punctuation punctuation">|</span>
            <a class="valtype" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
            
        </span>
        <a class="name" href="javascript:return false;">
            user
        </a>
    
</span>
                        <div class="info">
                            <span class="markdown"><p>If the Agent is <code>idle</code> and has its User and Client already set, they do not need to be provided
again.</p>
</span>
                        </div>
                    </div>
                    <div class="child argument " id="component_1228">
<span class="signature">
    
        <div class="flag optional">optional</div>
    
        <span>
            <span class="valsep punctuation punctuation">|</span>
            <a class="valtype" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
            
        </span>
        <a class="name" href="javascript:return false;">
            client
        </a>
    
</span>
                        <div class="info">
                            <span class="markdown"><p>If the Agent is <code>idle</code> and has its User and Client already set, they do not need to be provided
again.</p>
</span>
                        </div>
                    </div>
                    <div class="child argument " id="component_1232">
<span class="signature">
    
    
        <span>
            <span class="valsep punctuation punctuation">|</span>
            <a class="valtype" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a>
            
        </span>
        <a class="name" href="javascript:return false;">
            rememberMe
        </a>
    
</span>
                        <div class="info">
                            <span class="markdown"><p>A cookie management flag for browser clients. Whether the session credentials should be retained
beyond the end of the session.</p>
</span>
                        </div>
                    </div>
            </div>
        <div class="tail" /></div>
    </div>
</div>
<div id="component_1248" class="child function">
    <span class="signature">
        <span></span>
        <a href="member/setidle/index.html" class="title">
            setIdle
        </a>
        (
            <span>
<div class="argument">
    
    <span class="optionBracket">[</span>
        <a class="title" href="#component_1238">
            user
        </a>
    <span class="optionBracket">]</span>
    <span class="comma">,</span>
</div>
            
<div class="argument">
    
    <span class="optionBracket">[</span>
        <a class="title" href="#component_1241">
            client
        </a>
    <span class="optionBracket">]</span>
    <span class="comma">,</span>
</div>
            
<div class="argument">
    
    
        <a class="title" href="#component_1245">
            rememberMe
        </a>
    
    <span class="comma">,</span>
</div>
            </span>
        ) {
    </span>
    <div class="info">
        <span class="markdown"><p>Set the user&#39;s login status to <code>idle</code>. If the user was a guest, they will receive credentials
for an expired session. If the user was <code>active</code> they will be downgraded to <code>idle</code>.</p>
</span>
            <h4>Arguments</h4>
            <div class="section arguments">
                    <div class="child argument " id="component_1238">
<span class="signature">
    
        <div class="flag optional">optional</div>
    
        <span>
            <span class="valsep punctuation punctuation">|</span>
            <a class="valtype" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
            
        </span>
        <a class="name" href="javascript:return false;">
            user
        </a>
    
</span>
                        <div class="info">
                            <span class="markdown"><p>If the Agent is <code>active</code> the User and Client do not need to be provided again.</p>
</span>
                        </div>
                    </div>
                    <div class="child argument " id="component_1241">
<span class="signature">
    
        <div class="flag optional">optional</div>
    
        <span>
            <span class="valsep punctuation punctuation">|</span>
            <a class="valtype" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
            
        </span>
        <a class="name" href="javascript:return false;">
            client
        </a>
    
</span>
                        <div class="info">
                            <span class="markdown"><p>If the Agent is <code>active</code> the User and Client do not need to be provided again.</p>
</span>
                        </div>
                    </div>
                    <div class="child argument " id="component_1245">
<span class="signature">
    
    
        <span>
            <span class="valsep punctuation punctuation">|</span>
            <a class="valtype" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a>
            
        </span>
        <a class="name" href="javascript:return false;">
            rememberMe
        </a>
    
</span>
                        <div class="info">
                            <span class="markdown"><p>A cookie management flag for browser clients. Whether the session credentials should be retained
beyond the end of the session.</p>
</span>
                        </div>
                    </div>
            </div>
        <div class="tail" /></div>
    </div>
</div>
        </div>
</div>
        </div>
    </div>
    <div id="footer">
        This document was generated with
        <a href="https://github.com/shenanigans/node-doczar">doczar</a>
        at <span class="time">4:47pm</span> on <span class="date">8/11/2015</span>
    </div>
</body>
</html>
